---
import SingleCard from "../../components/modals/SingleCard.astro";
import MainLayout from "../../layouts/MainLayout.astro";
import House from "../../components/modals/House.astro";
---
<MainLayout>
  <div class="container mx-auto px-4 py-8">
    <div class="mb-8 relative">
      <!-- Search Icon on the left -->
      <img
        src="/search.svg" 
        alt="Search Icon"
        class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 pointer-events-none" 
      />
    
      <!-- Search Input -->
      <input
        onkeyup="search()"
        type="text"
        id="search-plant"
        placeholder="Search Tours..."
        class="w-full pl-12 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
    
      <!-- Clear (Cross) Icon on the right -->
      <img
        src="/clear.svg"
        alt="Clear Icon"
        class="absolute right-1 top-1/2 transform -translate-y-1/2 w-8 h-8 cursor-pointer"
        id="clear-search"
        onclick="clearSearch()"
      />
    </div>
    
    <div id="no-data" class="hidden">
    <div class="flex flex-col items-center justify-center h-64">
      <img src="/i-hex.svg" alt="" />
      <h2 class="text-4xl font-semibold text-gray-900 mb-2">No Tours Found</h2>
      <!-- <p class="text-gray-500">you haven't created any support cases yet</p> -->
    </div></div>
    
    <div id="plant-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
      <SingleCard
        title="81-6641 AUAMO PL"
        description="Welcome to the epitome of Hawaii Luxury living at Hokuli'a Phase 1, Lot 68. Amidst the captivating landscapes along the Kona Coast, this home offers tranquility while capturing the essence of tropical paradise."
        image="/assets/tours/auamo-pl.jpg"
        link="/tours/auamo-pl"
        buttonname="3D Tour"
      />
      <SingleCard
        title="550 SE Mizner Boulevard"
        description="Amazing opportunity to own your newly renovated dream vacation home this Season in the best location in East Boca Raton. Overlooking The Boca Raton Resort & Golf Club the newly renovated Townsend Place has been updated with all the modern amenities of a five-star Residence"
        image="/assets/tours/se-mizner-boulevard.jpg"
        link="/tours/se-mizner-boulevard"
        buttonname="3D Tour"
      />
      <SingleCard
      title="434 Beaumont Avenue"
      description="Located in Pacific Grove's desirable Candy Cane Lane and set back from the street, this craftsman style home exudes quality throughout. The high caliber construction is evident immediately upon entering the home."
      image="/assets/tours/beaumont-avenue.jpg"
      link="/tours/beaumont-avenue"
      buttonname="3D Tour"
    />
    <SingleCard
      title="157 Brookdale Ave"
      description="Wonderful home in prime John Wanless neighbourhood! Huge south facing family room addition with vaulted ceiling and tons of natural lights."
      image="/assets/tours/brookdale-ave.jpeg"
      link="/tours/brookdale-ave"
      buttonname="3D Tour"
    />
    <SingleCard
    title="1170 Scholarship"
    description="Wonderful home in prime John Wanless neighbourhood! Huge south facing family room addition with vaulted ceiling and tons of natural lights."
    image="/assets/tours/scholarship.jpeg"
    link="/tours/scholarship"
    buttonname="3D Tour"
  />
    </div>
  </div>
  <div>
    <!-- <House /> -->
  </div>
  <!-- <script src="../components/modals/search.js"></script> -->
  <script is:inline>
    function toggleDetails(imageElement) {
      // Toggle the blur class on the image
      imageElement.classList.toggle("blurred");

      // Find the card's overlay and toggle its visibility
      const overlay = imageElement.nextElementSibling;
      if (overlay.style.opacity === "1") {
        overlay.style.opacity = "0";
      } else {
        overlay.style.opacity = "1";
      }
    };
    const search = () => {
    // alert("Search Functionality is not yet implemented");
    const searchbox = document.getElementById("search-plant").value.toUpperCase();
    const storeitems = document.getElementById("plant-list");
    const plant = document.querySelectorAll("#plant");
    const pname = storeitems.getElementsByTagName("h2");
    let found = false;
  
    for (var i = 0; i < pname.length; i++) {
      let match = plant[i].getElementsByTagName('h2')[0];
  
      if (match) {
        let textvalue = match.textContent || match.innerHTML;
  
        if (textvalue.toUpperCase().indexOf(searchbox) > -1) {
          plant[i].style.display = "";
          found = true;
        } else {
          plant[i].style.display = "none";
        }
      }
      const noDataDiv = document.getElementById("no-data");
      if (found === true) {

        noDataDiv.classList.add("hidden");
      } else {
        noDataDiv.classList.remove("hidden");
      }
    }
  
  };
   // Clear search function
   function clearSearch() {
    const searchInput = document.getElementById('search-plant');
    searchInput.value = '';  // Clear the input field
    search();  // Optionally, re-trigger the search to reset the filter
  }
  </script>


  <style>
    .blurred {
      filter: blur(5px);
    }
  </style>
</MainLayout>
